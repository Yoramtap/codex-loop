# Ralph Progress Log
Started: Sat Jan 31 12:40:44 CET 2026
---

## Codebase Patterns
- Use CSS modules per page with shared tokens in web/src/app/globals.css.
- Store placeholder gradient SVGs in web/public/images for easy image swapping.

## 2026-01-31 12:51 - US-001
- What was implemented: Replaced the default Next.js home page with a rustic, modern food-blog hero, featured posts, social "say hi" block, and footer.
- Files changed: web/src/app/page.tsx, web/src/app/page.module.css, web/src/app/layout.tsx, web/src/app/globals.css, web/public/images/hero-food.svg, web/public/images/tile-1.svg, web/public/images/tile-2.svg, web/public/images/tile-3.svg, web/public/images/tile-4.svg, web/public/images/tile-5.svg, web/public/images/tile-6.svg, prd.json
- **Learnings for future iterations:**
  - Layout uses CSS modules per page and global tokens in globals.css.
  - Placeholder imagery should use gradient SVGs in web/public/images for easy swap later.
  - Manual browser verification needed (agent-browser not run here).
---

## 2026-01-31 12:59 - US-002
- What was implemented: Added the blog index page with post cards, meta line, gradient thumbnails, and an “older posts” link.
- Files changed: web/src/app/blog/page.tsx, web/src/app/blog/page.module.css, prd.json
- **Learnings for future iterations:**
  - Blog pages use local data arrays and CSS modules under web/src/app/blog.
  - Use lowercase labels and muted palettes to match the editorial tone.
  - Manual browser verification needed (agent-browser not run here).
---

## 2026-01-31 13:15 - US-003
- What was implemented: Added blog post pages that render per-entry content with hero image, headings, paragraphs, and list sections, plus a back-to-blog link.
- Files changed: web/src/app/blog/[slug]/page.tsx, web/src/app/blog/[slug]/page.module.css, web/src/app/blog/posts.ts, web/src/app/blog/page.tsx, prd.json
- **Learnings for future iterations:**
  - Use shared blog data in web/src/app/blog/posts.ts for both index and post pages.
  - Blog post pages should include hero image and structured sections to keep the editorial rhythm.
  - Manual browser verification needed (agent-browser not run here).
---

## 2026-01-31 13:22 - US-001
- What was implemented: Added build-note specific fields (summary/what shipped) to post data and removed recipe language from sample entries.
- Files changed: web/src/app/blog/posts.ts, prd.json
- **Learnings for future iterations:**
  - Keep backward-compatible fields during data model transitions to avoid breaking UI.
  - Centralize build-note fields in posts.ts for consistency across pages.
  - Manual browser verification needed (agent-browser not run here).
---

## 2026-01-31 13:26 - US-002
- What was implemented: Updated home, blog index, and blog post pages to use build-note data fields and updated labels/CTAs to match the build-log content.
- Files changed: web/src/app/page.tsx, web/src/app/blog/page.tsx, web/src/app/blog/[slug]/page.tsx, prd.json
- **Learnings for future iterations:**
  - UI copy should read directly from build-note fields like summary and whatShipped.
  - Keep list and CTA labels consistent across home and index for clarity.
  - Manual browser verification needed (agent-browser not run here).
---

## 2026-01-31 13:29 - US-003
- What was implemented: Updated remaining copy and metadata to consistently reference build notes/build log language and removed recipe mentions.
- Files changed: web/src/app/page.tsx, web/src/app/layout.tsx, prd.json
- **Learnings for future iterations:**
  - Search copy across layout metadata as well as page content.
  - Use consistent build-log terminology in headers, CTAs, and descriptions.
  - Manual browser verification needed (agent-browser not run here).
---

## 2026-01-31 13:54 - US-001
- What was implemented: Made typecheck a real gate, added lint/test scripts, and wired ralph.sh to run checks after each Codex iteration.
- Files changed: scripts/typecheck.sh, scripts/lint.sh, scripts/test.sh, ralph.sh, prd.json
- **Learnings for future iterations:**
  - Avoid control characters in prd.json; sanitize apostrophes.
  - Keep quality checks explicit and fail fast when dependencies are missing.
  - Run typecheck/lint/test from repo root but scoped to web/.
---

## 2026-01-31 14:08 - US-002
- What was implemented: Enforced clean working tree and branch correctness in ralph.sh, and enabled strict shell mode.
- Files changed: ralph.sh, prd.json
- **Learnings for future iterations:**
  - Branch/dirty checks must run before starting iterations to avoid work on main.
  - When branch creation fails, exit early with a clear error message.
  - Keep safety checks above the main loop.
---

## 2026-01-31 14:14 - US-003
- What was implemented: Added retry/abort logic for Codex failures so Ralph stops after repeated errors.
- Files changed: ralph.sh, prd.json
- **Learnings for future iterations:**
  - Use PIPESTATUS to capture codex exit codes when piping to tee.
  - Retry once on transient failures, then abort to avoid cascading errors.
  - Keep error logs explicit and iteration-scoped.
---

## 2026-01-31 14:17 - US-004
- What was implemented: Confirmed strict shell mode and ensured non-fatal commands are explicitly guarded.
- Files changed: prd.json
- **Learnings for future iterations:**
  - Strict mode is a foundation; keep all scripts consistent with it.
  - Guard any non-fatal command with || true and a comment.
  - Review shell scripts when adding pipelines or subshells.
---

## 2026-01-31 14:26 - US-001
- What was implemented: Added a Build Loop section with scroll-triggered animation and compact step cards on the home page.
- Files changed: web/src/app/components/build-loop.tsx, web/src/app/components/build-loop.module.css, web/src/app/page.tsx, prd.json
- **Learnings for future iterations:**
  - IntersectionObserver is a clean way to trigger one-time animations.
  - Keep animation subtle and disable it with prefers-reduced-motion.
  - Place narrative components between hero and notes for best visibility.
---

## 2026-01-31 14:31 - US-002
- What was implemented: Tuned Build Loop mobile typography and spacing for clearer legibility.
- Files changed: web/src/app/components/build-loop.module.css, prd.json
- **Learnings for future iterations:**
  - Mobile steps read better with slightly larger headings and more padding.
  - Keep loop cards single-column with comfortable gaps.
  - Small spacing tweaks can dramatically improve scannability.
---
